{"ast":null,"code":"// const submitIcon = document.querySelector('#submit-icon')\n// const inputElement = document.querySelector('input')\n// const imageSection = document.querySelector('.images-section')\n// const API_KEY = process.env.API_KEY\n\n// const getImages = async () => {\n\n//     const options = {\n//         method: 'POST',\n//         headers: {\n//             \"Authorization\": `Bearer ${API_KEY}`,\n//             \"Content-Type\": \"application/json\"\n//         },\n//         body: JSON.stringify( {\n//            \"prompt\": inputElement.value,\n//             \"n\": 4,\n//             \"size\": \"1024x1024\"\n//         })\n//     }\n\n//     try {\n//         const response = await fetch('https://api.openai.com/v1/images/generations', options)\n//         const data = await response.json()\n\n//         data?.data.forEach((imageObject) => {\n//             const imageContainer = document.createElement('div')\n//             imageContainer.classList.add('image-container')\n//             const imageElement = document.createElement('img')\n//             imageElement.setAttribute('src', imageObject.url)\n//             imageContainer.append(imageElement)\n//             imageSection.append(imageContainer)\n//         })\n//     } catch (err) {\n//         console.error(\"Error fetching images:\", err);\n//     }\n// }\n\n// const handleEnterKeyPress = (event) => {\n//     if (event.key === 'Enter') {\n//         getImages();\n//     }\n// };\n\n// submitIcon.addEventListener('click', getImages)\n// inputElement.addEventListener('keypress', handleEnterKeyPress); \n\n// Import necessary modules if required\n\nconst submitIcon = document.querySelector('#submit-icon');\nconst inputElement = document.querySelector('input');\nconst imageSection = document.querySelector('.images-section');\n\n// Function to get API key from the backend\nconst getApiKey = async () => {\n  try {\n    const response = await fetch('/api/getApiKey');\n    const data = await response.json();\n    return data.apiKey;\n  } catch (error) {\n    console.error('Error fetching API key:', error);\n    throw error;\n  }\n};\nconst getImages = async () => {\n  try {\n    const apiKey = await getApiKey(); // Fetch API key from backend\n    const options = {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${apiKey}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'prompt': inputElement.value,\n        'n': 4,\n        'size': '1024x1024'\n      })\n    };\n    const response = await fetch('https://api.openai.com/v1/images/generations', options);\n    const data = await response.json();\n    data === null || data === void 0 ? void 0 : data.data.forEach(imageObject => {\n      const imageContainer = document.createElement('div');\n      imageContainer.classList.add('image-container');\n      const imageElement = document.createElement('img');\n      imageElement.setAttribute('src', imageObject.url);\n      imageContainer.append(imageElement);\n      imageSection.append(imageContainer);\n    });\n  } catch (error) {\n    console.error('Error fetching images:', error);\n  }\n};\nconst handleEnterKeyPress = event => {\n  if (event.key === 'Enter') {\n    getImages();\n  }\n};\nsubmitIcon.addEventListener('click', getImages);\ninputElement.addEventListener('keypress', handleEnterKeyPress);","map":{"version":3,"names":["submitIcon","document","querySelector","inputElement","imageSection","getApiKey","response","fetch","data","json","apiKey","error","console","getImages","options","method","headers","body","JSON","stringify","value","forEach","imageObject","imageContainer","createElement","classList","add","imageElement","setAttribute","url","append","handleEnterKeyPress","event","key","addEventListener"],"sources":["/Users/oscarsant/total_repaso/projects/dalle_imagegenerator_app/frontend/src/App.js"],"sourcesContent":["\n\n// const submitIcon = document.querySelector('#submit-icon')\n// const inputElement = document.querySelector('input')\n// const imageSection = document.querySelector('.images-section')\n// const API_KEY = process.env.API_KEY\n\n// const getImages = async () => {\n\n//     const options = {\n//         method: 'POST',\n//         headers: {\n//             \"Authorization\": `Bearer ${API_KEY}`,\n//             \"Content-Type\": \"application/json\"\n//         },\n//         body: JSON.stringify( {\n//            \"prompt\": inputElement.value,\n//             \"n\": 4,\n//             \"size\": \"1024x1024\"\n//         })\n//     }\n\n//     try {\n//         const response = await fetch('https://api.openai.com/v1/images/generations', options)\n//         const data = await response.json()\n        \n\n//         data?.data.forEach((imageObject) => {\n//             const imageContainer = document.createElement('div')\n//             imageContainer.classList.add('image-container')\n//             const imageElement = document.createElement('img')\n//             imageElement.setAttribute('src', imageObject.url)\n//             imageContainer.append(imageElement)\n//             imageSection.append(imageContainer)\n//         })\n//     } catch (err) {\n//         console.error(\"Error fetching images:\", err);\n//     }\n// }\n\n// const handleEnterKeyPress = (event) => {\n//     if (event.key === 'Enter') {\n//         getImages();\n//     }\n// };\n\n// submitIcon.addEventListener('click', getImages)\n// inputElement.addEventListener('keypress', handleEnterKeyPress); \n\n\n// Import necessary modules if required\n\nconst submitIcon = document.querySelector('#submit-icon');\nconst inputElement = document.querySelector('input');\nconst imageSection = document.querySelector('.images-section');\n\n// Function to get API key from the backend\nconst getApiKey = async () => {\n  try {\n    const response = await fetch('/api/getApiKey');\n    const data = await response.json();\n    return data.apiKey;\n  } catch (error) {\n    console.error('Error fetching API key:', error);\n    throw error;\n  }\n};\n\nconst getImages = async () => {\n  try {\n    const apiKey = await getApiKey(); // Fetch API key from backend\n    const options = {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${apiKey}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'prompt': inputElement.value,\n        'n': 4,\n        'size': '1024x1024'\n      })\n    };\n\n    const response = await fetch('https://api.openai.com/v1/images/generations', options);\n    const data = await response.json();\n\n    data?.data.forEach((imageObject) => {\n      const imageContainer = document.createElement('div');\n      imageContainer.classList.add('image-container');\n      const imageElement = document.createElement('img');\n      imageElement.setAttribute('src', imageObject.url);\n      imageContainer.append(imageElement);\n      imageSection.append(imageContainer);\n    });\n  } catch (error) {\n    console.error('Error fetching images:', error);\n  }\n};\n\nconst handleEnterKeyPress = (event) => {\n  if (event.key === 'Enter') {\n    getImages();\n  }\n};\n\nsubmitIcon.addEventListener('click', getImages);\ninputElement.addEventListener('keypress', handleEnterKeyPress);\n\n"],"mappings":"AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAGA;;AAEA,MAAMA,UAAU,GAAGC,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;AACzD,MAAMC,YAAY,GAAGF,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;AACpD,MAAME,YAAY,GAAGH,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC;;AAE9D;AACA,MAAMG,SAAS,GAAG,MAAAA,CAAA,KAAY;EAC5B,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gBAAgB,CAAC;IAC9C,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IAClC,OAAOD,IAAI,CAACE,MAAM;EACpB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,MAAMA,KAAK;EACb;AACF,CAAC;AAED,MAAME,SAAS,GAAG,MAAAA,CAAA,KAAY;EAC5B,IAAI;IACF,MAAMH,MAAM,GAAG,MAAML,SAAS,CAAC,CAAC,CAAC,CAAC;IAClC,MAAMS,OAAO,GAAG;MACdC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,eAAe,EAAG,UAASN,MAAO,EAAC;QACnC,cAAc,EAAE;MAClB,CAAC;MACDO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnB,QAAQ,EAAEhB,YAAY,CAACiB,KAAK;QAC5B,GAAG,EAAE,CAAC;QACN,MAAM,EAAE;MACV,CAAC;IACH,CAAC;IAED,MAAMd,QAAQ,GAAG,MAAMC,KAAK,CAAC,8CAA8C,EAAEO,OAAO,CAAC;IACrF,MAAMN,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IAElCD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEA,IAAI,CAACa,OAAO,CAAEC,WAAW,IAAK;MAClC,MAAMC,cAAc,GAAGtB,QAAQ,CAACuB,aAAa,CAAC,KAAK,CAAC;MACpDD,cAAc,CAACE,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC;MAC/C,MAAMC,YAAY,GAAG1B,QAAQ,CAACuB,aAAa,CAAC,KAAK,CAAC;MAClDG,YAAY,CAACC,YAAY,CAAC,KAAK,EAAEN,WAAW,CAACO,GAAG,CAAC;MACjDN,cAAc,CAACO,MAAM,CAACH,YAAY,CAAC;MACnCvB,YAAY,CAAC0B,MAAM,CAACP,cAAc,CAAC;IACrC,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOZ,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;EAChD;AACF,CAAC;AAED,MAAMoB,mBAAmB,GAAIC,KAAK,IAAK;EACrC,IAAIA,KAAK,CAACC,GAAG,KAAK,OAAO,EAAE;IACzBpB,SAAS,CAAC,CAAC;EACb;AACF,CAAC;AAEDb,UAAU,CAACkC,gBAAgB,CAAC,OAAO,EAAErB,SAAS,CAAC;AAC/CV,YAAY,CAAC+B,gBAAgB,CAAC,UAAU,EAAEH,mBAAmB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}